<UserControl x:Class="PictureManager.UserControls.MediaItemsThumbsGrid"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:cc="clr-namespace:PictureManager.CustomControls">
  
  <cc:VirtualizingWrapPanel x:Name="ThumbsGrid"
                            ShowGroupItemsCount="True" 
                            GroupItemsCountIcon="ImageMultiple" 
                            Rows="{Binding Rows}"
                            PreviewMouseWheel="OnPreviewMouseWheel">
    <cc:VirtualizingWrapPanel.ItemDataTemplate>
      <DataTemplate>
        <cc:MediaItemThumbnail DataContext="{Binding}" />
      </DataTemplate>
    </cc:VirtualizingWrapPanel.ItemDataTemplate>
  </cc:VirtualizingWrapPanel>

  <UserControl.Resources>
    <ContextMenu x:Key="ThumbsGridContextMenu">
      <MenuItem Header="Group by Folders" IsCheckable="True" IsChecked="{Binding GroupByFolders}" Click="Refresh" />
      <MenuItem Header="Group by Date" IsCheckable="True" IsChecked="{Binding GroupByDate}" Click="Refresh" />
    </ContextMenu>
  </UserControl.Resources>
</UserControl>
