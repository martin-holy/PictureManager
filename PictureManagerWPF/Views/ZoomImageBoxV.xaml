<UserControl
  x:Class="PictureManager.Views.ZoomImageBoxV"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:views="clr-namespace:PictureManager.Views">

  <Canvas
    x:Name="Canvas"
    DataContext="{Binding RelativeSource=
                 {RelativeSource FindAncestor, AncestorType={x:Type views:ZoomImageBoxV}}}"
    SizeChanged="OnSizeChanged"
    MouseMove="OnMouseMove">

    <Image
      x:Name="Image"
      HorizontalAlignment="Left"
      VerticalAlignment="Top"
      RenderTransformOrigin="0,0"
      Height="{Binding ImageHeight}"
      Width="{Binding ImageWidth}"
      Source="{Binding ImageSource}"
      MouseLeftButtonDown="Image_OnMouseLeftButtonDown"
      MouseLeftButtonUp="Image_OnMouseLeftButtonUp"
      MouseWheel="Image_OnMouseWheel">

      <Image.RenderTransform>
        <TransformGroup>
          <ScaleTransform
            ScaleX="{Binding ScaleX}"
            ScaleY="{Binding ScaleY}" />

          <TranslateTransform
            x:Name="ImageTransform"
            X="{Binding TransformX}"
            Y="{Binding TransformY}" />
        </TransformGroup>
      </Image.RenderTransform>
    </Image>

  </Canvas>

</UserControl>