<UserControl
  x:Class="PictureManager.Views.SegmentsRectsV"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:v="clr-namespace:PictureManager.Views">

  <UserControl.Resources>
    <ResourceDictionary>
      <ResourceDictionary.MergedDictionaries>
        <ResourceDictionary Source="../Views/SegmentRectV.xaml" />
      </ResourceDictionary.MergedDictionaries>
    </ResourceDictionary>
  </UserControl.Resources>
  
  <ItemsControl
    DataContext="{Binding RelativeSource=
                 {RelativeSource AncestorType={x:Type v:SegmentsRectsV}}}"
    ItemsSource="{Binding SegmentsRectsM.MediaItemSegmentsRects}">

    <ItemsControl.ItemTemplate>
      <DataTemplate>
        <ContentPresenter
          Content="{Binding}"
          PreviewMouseDown="SegmentRect_PreviewMouseDown" />
      </DataTemplate>
    </ItemsControl.ItemTemplate>

    <ItemsControl.ItemsPanel>
      <ItemsPanelTemplate>
        <Grid Width="{Binding ActualWidth}"
              Height="{Binding ActualHeight}"/>
      </ItemsPanelTemplate>
    </ItemsControl.ItemsPanel>

  </ItemsControl>

</UserControl>
