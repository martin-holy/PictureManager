<UserControl x:Class="PictureManager.Views.PersonThumbnailV"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:views="clr-namespace:PictureManager.Views">

  <!--TODO why is not border around SegmentV?-->
  <Grid DataContext="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type views:PersonThumbnailV}}}">
    <!-- Segment Image -->
    <views:SegmentV Segment="{Binding Person.Model.Segment}" SelectedEventHandler="OnSelected">
      <!-- TODO find the way how to use InvokeCommandAction on Selected event. SegmentV.SelectedEventHandler doesn't have target -->
      <views:SegmentV.Style>
        <Style TargetType="{x:Type views:SegmentV}">
          <Setter Property="IsCheckMarkVisible" Value="False" />
          <Style.Triggers>
            <DataTrigger Binding="{Binding Person.Model.Segments, Converter={StaticResource AllToBoolConverter}}" Value="True">
              <Setter Property="IsCheckMarkVisible" Value="True" />
            </DataTrigger>
          </Style.Triggers>
        </Style>
      </views:SegmentV.Style>
    </views:SegmentV>

    <!-- Border -->
    <Border BorderThickness="2">
      <Border.Style>
        <Style TargetType="{x:Type Border}">
          <Setter Property="BorderBrush" Value="Transparent" />
          <Style.Triggers>
            <DataTrigger Binding="{Binding Person.Model.IsSelected}" Value="True">
              <Setter Property="BorderBrush" Value="{DynamicResource AccentColorBrush}" />
            </DataTrigger>
          </Style.Triggers>
        </Style>
      </Border.Style>
    </Border>

  </Grid>
</UserControl>
