<ResourceDictionary
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:cc="clr-namespace:PictureManager.CustomControls"
  xmlns:vm="clr-namespace:PictureManager.ViewModels"
  xmlns:b="http://schemas.microsoft.com/xaml/behaviors">

  <ResourceDictionary.MergedDictionaries>
    <ResourceDictionary Source="PersonThumbnailV.xaml" />
    <ResourceDictionary Source="../ResourceDictionaries/CustomControlStyles/VirtualizingWrapPanelStyle.xaml" />
  </ResourceDictionary.MergedDictionaries>

  <Style
    x:Key="Views.PeopleV.Panel"
    TargetType="{x:Type cc:VirtualizingWrapPanel}"
    BasedOn="{StaticResource CustomControls.VirtualizingWrapPanel}">

    <Setter
      Property="ScrollViewerSpeedFactor"
      Value="1" />
    <Setter
      Property="ShowGroupItemsCount"
      Value="True" />
    <Setter
      Property="GroupItemsCountIcon"
      Value="IconImageMultiple" />
    <Setter
      Property="ItemDataTemplate"
      Value="{StaticResource Views.PersonThumbnailV}" />
  </Style>

  <DataTemplate
    x:Key="Views.PeopleV"
    DataType="{x:Type vm:PeopleVM}">

    <ContentPresenter
      Content="{Binding Panel}">

      <b:Interaction.Triggers>
        <b:EventTrigger EventName="PreviewMouseUp">
          <b:InvokeCommandAction
            Command="{Binding SelectCommand}"
            EventArgsConverter="{StaticResource ClickConverter}"
            EventArgsConverterParameter="{StaticResource True}" />
        </b:EventTrigger>
      </b:Interaction.Triggers>
    </ContentPresenter>

  </DataTemplate>
  
</ResourceDictionary>
