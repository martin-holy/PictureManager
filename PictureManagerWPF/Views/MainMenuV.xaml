<ResourceDictionary
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:pm="clr-namespace:PictureManager">

  <DataTemplate x:Key="Views.MainMenu">
    <DataTemplate.Resources>
      <Style x:Key="_icon" TargetType="{x:Type Path}" BasedOn="{StaticResource MH.Styles.Icon}">
        <Setter Property="Effect" Value="{StaticResource MH.Effects.DropShadow}"/>
      </Style>
    </DataTemplate.Resources>
    
    <Menu Background="Transparent">
      <MenuItem
        Padding="0"
        Background="Transparent"
        Height="30"
        Width="30">
        
        <MenuItem.Icon>
          <Path
            Style="{StaticResource _icon}"
            Data="{StaticResource IconThreeBars}"
            Margin="2 0 0 0"/>
        </MenuItem.Icon>

        <!-- Tools -->
        <MenuItem Header="Tools">
          <MenuItem
            Header="Settings"
            Command="{Binding MainWindowM.OpenSettingsCommand,
                      Source={x:Static pm:App.Core}}">
            <MenuItem.Icon>
              <Path
                Style="{StaticResource _icon}"
                Data="{StaticResource IconSettings}"/>
            </MenuItem.Icon>
          </MenuItem>

          <MenuItem
            Header="GeoNames"
            Command="{Binding MediaItemsM.AddGeoNamesFromFilesCommand,
                      Source={x:Static pm:App.Core}}">
            <MenuItem.Icon>
              <Path
                Style="{StaticResource _icon}"
                Data="{StaticResource IconLocationCheckin}"/>
            </MenuItem.Icon>
          </MenuItem>

          <MenuItem
            Header="Test Button"
            Command="{Binding MainWindowVM.TestButtonCommand,
                      Source={x:Static pm:App.Ui}}"/>
        </MenuItem>

        <!-- Media Items -->
        <MenuItem Header="Media Items">
          <MenuItem
            Header="Compress"
            Command="{Binding ThumbnailsGridsM.CompressCommand,
                      Source={x:Static pm:App.Core}}"/>
          <MenuItem
            Header="Rebuild Thumbnails"
            Command="{Binding MediaItemsM.RebuildThumbnailsCommand,
                      Source={x:Static pm:App.Core}}"/>
          <MenuItem
            Header="Rotate"
            InputGestureText="Ctrl+R"
            Command="{Binding MediaItemsM.RotateCommand,
                      Source={x:Static pm:App.Core}}"/>
          <MenuItem
            Header="Select Not Modified"
            Command="{Binding ThumbnailsGridsM.SelectNotModifiedCommand,
                      Source={x:Static pm:App.Core}}"/>
          <MenuItem
            Header="Shuffle"
            Command="{Binding ThumbnailsGridsM.ShuffleCommand,
                      Source={x:Static pm:App.Core}}"/>
          <MenuItem
            Header="Resize Images"
            Command="{Binding ThumbnailsGridsM.ResizeImagesCommand,
                      Source={x:Static pm:App.Core}}"/>
          <MenuItem
            Header="Images to Video"
            Command="{Binding ThumbnailsGridsM.ImagesToVideoCommand,
                      Source={x:Static pm:App.Core}}"/>
          <MenuItem
            Header="Copy Paths"
            Command="{Binding ThumbnailsGridsM.CopyPathsCommand,
                      Source={x:Static pm:App.Core}}"/>
          <MenuItem
            Header="Rename"
            InputGestureText="F2"
            Command="{Binding MediaItemsM.RenameCommand,
                      Source={x:Static pm:App.Core}}"/>
          <MenuItem
            Header="Segment Matching"
            Command="{Binding SegmentsM.SegmentMatchingCommand,
                      Source={x:Static pm:App.Core}}">
            <MenuItem.Icon>
              <Path
                Style="{StaticResource _icon}"
                Data="{StaticResource IconEquals}"/>
            </MenuItem.Icon>
          </MenuItem>
        </MenuItem>

        <!-- Metadata -->
        <MenuItem Header="Metadata">
          <MenuItem
            Header="Edit"
            InputGestureText="Ctrl+E"
            Command="{Binding MediaItemsM.EditCommand,
                      Source={x:Static pm:App.Core}}">
            <MenuItem.Icon>
              <Path
                Style="{StaticResource _icon}"
                Data="{StaticResource IconEdit}"/>
            </MenuItem.Icon>
          </MenuItem>

          <MenuItem
            Header="Save"
            InputGestureText="Ctrl+S"
            Command="{Binding MediaItemsM.SaveEditCommand,
                      Source={x:Static pm:App.Core}}">
            <MenuItem.Icon>
              <Path
                Style="{StaticResource _icon}"
                Data="{StaticResource IconSave}"/>
            </MenuItem.Icon>
          </MenuItem>

          <MenuItem
            Header="Cancel"
            InputGestureText="Ctrl+Q"
            Command="{Binding MediaItemsM.CancelEditCommand,
                      Source={x:Static pm:App.Core}}">
            <MenuItem.Icon>
              <Path
                Style="{StaticResource _icon}"
                Data="{StaticResource IconCancel}"/>
            </MenuItem.Icon>
          </MenuItem>

          <MenuItem
            Header="Comment"
            InputGestureText="Ctrl+K"
            Command="{Binding MediaItemsM.CommentCommand,
                      Source={x:Static pm:App.Core}}">
            <MenuItem.Icon>
              <Path
                Style="{StaticResource _icon}"
                Data="{StaticResource IconNotification}"/>
            </MenuItem.Icon>
          </MenuItem>

          <MenuItem
            Header="Reload"
            Command="{Binding MediaItemsM.ReloadMetadataCommand,
                      Source={x:Static pm:App.Core}}"/>
        </MenuItem>

        <!-- About -->
        <MenuItem
          Header="About"
          Command="{Binding MainWindowM.OpenAboutCommand,
                    Source={x:Static pm:App.Core}}"/>
      </MenuItem>
    </Menu>
  </DataTemplate>
</ResourceDictionary>